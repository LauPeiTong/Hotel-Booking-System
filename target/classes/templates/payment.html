<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" th:href="@{/image/mainPage/catravel.png}" type = "image/png">
    <title>Catravel - Trusted Online Accomodation Booking App</title>

    <link rel="stylesheet" th:href="@{/css/style.css}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

    
</head>
<body>
    <section id="nav-bar">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
              <a class="navbar-brand navbar-text" href="#top"><img th:src="@{/image/mainPage/CatravelLogo.png}" alt="">Catravel</a>
              
			
			<div th:switch="${session.isLogin}">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-list"> </i>
              </button>
              <div th:case="${true}" class="collapse navbar-collapse" id="navbarSupportedContent">
                <div class="mr-auto"> </div>
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0" >
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/hotels/home}">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" th:href="@{/hotels/home} + '#search'">Search hotel</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#footer">Contact</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" th:href="@{/hotels/login}"><img th:src="@{/image/mainPage/login.png}" alt=""> My account</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link sign-up-button" th:href="@{/hotels/logout}">Log out</a>
                  </li>
                  
                </ul>
              </div>
              
              <div th:case="*" class="collapse navbar-collapse" id="navbarSupportedContent">
                <div class="mr-auto"> </div>
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0" >
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/hotels/home}">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" th:href="@{/hotels/home} + '#search'">Search hotel</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#footer">Contact</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" th:href="@{/hotels/login}"><img th:src="@{/image/mainPage/login.png}" alt=""> Log in</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link sign-up-button" th:href="@{/hotels/signup}">Sign up</a>
                  </li>
                  
                </ul>
              </div>
			</div>
            </div>
          </nav>
    </section>

    <img th:src="@{/image/mainPage/wave1.png}" alt="" class="hotel-wave-img text-start">
    
    <section id="payment">
        <div class="container">
        <div class="accordion" id="accordionExample">
            <div class="steps">
                <div class="transparent"> </div>

                <progress id="progress" value=0 max=100 > </progress>
                <div class="step-item">
                    <button id="button1" class="step-button text-center" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        1
                    </button>
                    <div class="step-title">
                        Log in/Sign up
                    </div>
                </div>
                <div class="step-item">
                    <button id="button2" class="step-button text-center collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        2
                    </button>
                    <div class="step-title">
                        Pay
                    </div>
                </div>
                <div class="step-item">
                    <button id="button3" class="step-button text-center collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        3
                    </button>
                    <div class="step-title">
                        Confirm
                    </div>
                </div>
            </div>

            <!-- login/signup -->
            <div class="card">
                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                    data-bs-parent="#accordionExample">
                    <div class="card-body"
                    		th:switch="${session.isLogin}">
                       <div class="information-card text-center mt-5 mb-5"
                        		th:object="${session.customer}"
                        		th:case="${true}">
                        	<h4 th:text="'Hi, ' + ${session.customer.fname} + '!'"> </h4>
                        	<h5>Please click 'Continue' to confirm yout booking.</h5>
                       
                          	<button type="button" class="btn" onclick ="document.getElementById('button2').click()">Continue</button>
                       </div>
                        
                       <div class="information-card text-center mt-5 mb-5"
                       		th:case="*">
                          <h4>Please log in/sign up before booking.</h4>

                          <a th:href="@{/hotels/login}"><button type="button" class="btn" onclick ="document.getElementById('button2').click()">Log in</button></a>
                          <a th:href="@{/hotels/signup}"><button type="button" class="btn" onclick ="document.getElementById('button2').click()">Sign up</button></a>
                        </div>
                        
                        
                        <img th:src="@{/image/cat/cat5.png}" alt="">
                    </div>
                </div>
            </div>
            <!-- pay -->
            <div class="card">
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                    <div class="card-body">
                      <div class="pay-card mt-3 mb-5">
                        <h4 class="text-center">Please fill in the card details</h4>  

                        <form action="" class="pay-form"
                        		th:action="@{/hotels/pay}"
				  				th:method="post">
                          <div class="mb-3 name-on-card">
                            <label for="inputNameOnCard" class="form-label">Name on card</label>
                            <input type="text" class="form-control" id="inputNameOnCard" placeholder="" required>
                          </div>

                          <div class="mb-3 card-number">
                            <label for="inputCardNumber" class="form-label">Card number</label>
                            <input type="text" class="form-control" id="inputCardNumber" placeholder="" required>
                          </div>

                          <div class="row mb-3 card-details">
                            <div class="col-md-4 mb-3">
                              <label for="inputValid" class="form-label">Valid until</label>
                              <input type="text" class="form-control" id="inputValid" placeholder="" required>
                            
                            </div>
                            <div class="col-md-4 mb-3">
                              <label for="inputCVV" class="form-label">CVV Number</label>
                              <input type="text" class="form-control" id="inputCVV" placeholder="" required>
                            
                            </div>
                            <div class="col-md-4 mb-3">
                              <div class="row mt-4">
                                <img th:src="@{/image/pay/mc.png}" alt="" class="col-md-4">
                                <img th:src="@{/image/pay/pp.png}" alt="" class="col-md-4">
                                <img th:src="@{/image/pay/vi.png}" alt="" class="col-md-4">
                              </div>
                            </div>
                          </div>

                          <!-- booking details-->
                          <div class="booking-details mb-5">
                			<div th:switch="${session.isLogin}">
                            <div class="container" th:case="${true}">
                              <p class="booking-title">Booking details</p>

                              <p class="booking-hotel" th:text="${session.hotel.hotelName}">Sunway Putra Hotel Kuala Lumpur</p>
                              <label for="" >Guest Name</label>
                              <p class="booking-guest" th:object="${session.customer}" th:text="${session.customer.fname} + ' ' + ${session.customer.lname}">XXX </p>

                              <div class="booking-room-details">
                              	<div th:object="${session.booking}">
	                                <div class="row">
	                                  <label for="" class="col-sm-5">Duration of stay:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.booking.duration} + ' night(s)'">1 night</label>
	                                </div>
	                                <div class="row">
	                                  <label for="" class="col-sm-5">No. of rooms:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.booking.noOfRoom} + ' room(s)'">1 Room</label>
	                                </div>
	                                <div class="row">
	                                  <label for="" class="col-sm-5">Guest per room:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.booking.noOfGuest} + ' adult(s)'">1 Guest</label>
	                                </div>
                              	</div>
                              	<div>
	                                <div class="row">
	                                  <label for="" class="col-sm-5">Check-in:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.checkInDate} + ' From 15:00'">Thu, 6 Jan 2022 From 15:00</label>
	                                </div>
	                                <div class="row">
	                                  <label for="" class="col-sm-5">Check-out:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.checkOutDate} + ' Before 12:00'">Fri, 7 Jan 2022 Before 12:00</label>
	                                </div>
                              	</div>
                              	<div>
	                                <div class="row">
	                                  <label for="" class="col-sm-5">Room type:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.roomType.roomType}">Single Room</label>
	                                </div>
	                                <div class="row">
	                                  <label for="" class="col-sm-5">Bed type:</label>
	                                  <label for="" class="col-sm-7" th:text="${session.roomType.roomBed}">1 king bed</label>
	                                </div>
                              	</div>
                              </div>

                              <div class="booking-payment row" th:object="${session.payment}">
                                <h5 class="col-sm-6">Total Payment</h5>
                                <h5 class="col-sm-6 text-end" th:text="'RM' + ${#numbers.formatDecimal(session.payment.totalAmount ,0,2)}">RM 200.00</h5>
                              </div>
                            </div>
                            
                            <div th:case="*"> </div>
                			</div>
                          </div>

                          <div>
                            <button type="submit" class="btn btn-primary pay-button" onclick="document.getElementById('button3').click()">Pay</button>
                            <p class="text-center">By clicking 'Pay', you have agreed to Catravel's Terms & Conditions and Privacy Policy</p>
                          </div>
                        </form>
                      </div> 
                    </div>
                </div>
            </div>
            <!-- email -->
            <div class="card">
                <div id="collapseThree" class="collapse" aria-labelledby="headingThree"
                    data-bs-parent="#accordionExample">
                    <div class="card-body">
                        <div class="confirm-card text-center mt-5 mb-5">
                          <h4>Your booking is processed.</h4>
                          <h6>A confirmation email will be sent to you soon.</h6>
                          
                        </div>
                        <img th:src="@{/image/cat/cat6.png}" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </section>
    

    <section id="footer">
      <img th:src="@{/image/mainPage/wave3.png}" alt="" class="footer-img">

      <div class="container">
        <div class="row offset-1">
          <div class="col-md-4 footer-box">
            <img th:src="@{/image/mainPage/CatravelLogo.png}" alt="">
            <h1 class="footer-brand">Catravel</h1>
            <p>Quotes are one of the earliest types of testimonials (and one of the easiest to acquire, regardless of industry).
              Quotes are one of the earliest types of testimonials (and one of the easiest to acquire, regardless of industry).
            </p>
          </div>

          <div class="col-md-4 footer-box">
            <h6>Contact Us</h6>
            <p><i class="bi bi-geo-alt-fill"> </i> Menara Kembar Bank Rakyat, Kuala Lumpur</p>
            <p><i class="bi bi-telephone-fill"> </i> +60 xxx-xxxxxxxx</p>
            <p><i class="bi bi-envelope-fill"> </i> catravel@gmail.com</p>
          
          </div>

          <div class="col-md-4 footer-box">
            <h6>Subscribe Us</h6>
            <input type="email" class="form-control" placeholder="Your Email">
            <button type="button" class="btn btn-primary">Subscribe</button>
            
          </div>
        </div>

        <hr>
        <p class="copyright">Catravel Sdn Bhd (Registration No. xxxxxxxxxxxx), Level xx Tower x, Menara Kembar Bank Rakyat, xx Jalan Rakyat Brickfields, 50470 Kuala Lumpur, Malaysia
          Copyright © 2021 Catravel</p>
      </div>
    </section>

    <script src="../scripts/smooth-scroll.js"></script>
    <script>
    var scroll = new SmoothScroll('a[href*="#"]');
    </script>

    <!-- Stepper JavaScript -->
    <script>
    const stepButtons = document.querySelectorAll('.step-button');
    const progress = document.querySelector('#progress');

    Array.from(stepButtons).forEach((button,index) => {
        button.addEventListener('click', () => {
            progress.setAttribute('value', index * 100 /(stepButtons.length - 1) );//there are 3 buttons. 2 spaces.

            stepButtons.forEach((item, secindex)=>{
                if(index > secindex){
                    item.classList.add('done');
                }
                if(index < secindex){
                    item.classList.remove('done');
                }
            })
        })
    })
    </script>
    
</body>
</html>